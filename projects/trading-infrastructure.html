<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trading Infrastructure | Marcin Bury</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #09090b;
            --bg-secondary: #18181b;
            --bg-tertiary: #27272a;
            --bg-card: rgba(24, 24, 27, 0.6);
            --text-primary: #fafafa;
            --text-secondary: #a1a1aa;
            --text-muted: #71717a;
            --accent-primary: #3b82f6;
            --accent-secondary: #8b5cf6;
            --accent-success: #22c55e;
            --accent-warning: #f59e0b;
            --accent-orange: #f97316;
            --border-color: rgba(63, 63, 70, 0.5);
            --border-hover: rgba(63, 63, 70, 0.8);
            --gradient-primary: linear-gradient(135deg, #3b82f6, #8b5cf6);
            --gradient-stocks: linear-gradient(135deg, #3b82f6, #06b6d4);
            --gradient-options: linear-gradient(135deg, #f97316, #f59e0b);
            --shadow-glow: 0 0 40px rgba(59, 130, 246, 0.15);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(ellipse 80% 50% at 50% -20%, rgba(59, 130, 246, 0.12), transparent),
                radial-gradient(ellipse 60% 40% at 100% 0%, rgba(139, 92, 246, 0.08), transparent);
            pointer-events: none;
            z-index: -1;
        }

        .container { max-width: 1200px; margin: 0 auto; padding: 0 24px; }

        /* Back Link */
        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 500;
            padding: 24px 0;
            transition: color 0.2s;
        }
        .back-link:hover { color: var(--accent-primary); }
        .back-link svg { width: 16px; height: 16px; }

        /* Header */
        header {
            text-align: center;
            padding: 40px 0 60px;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 60px;
        }

        header h1 {
            font-size: 2.75rem;
            font-weight: 700;
            letter-spacing: -0.02em;
            margin-bottom: 16px;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        header p {
            color: var(--text-secondary);
            font-size: 1.125rem;
            max-width: 700px;
            margin: 0 auto 24px;
        }

        .badges {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .badge {
            padding: 8px 16px;
            border-radius: 10px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .badge-production { background: rgba(34, 197, 94, 0.15); color: var(--accent-success); border: 1px solid rgba(34, 197, 94, 0.3); }
        .badge-private { background: rgba(161, 161, 170, 0.1); color: var(--text-muted); border: 1px solid rgba(161, 161, 170, 0.2); }
        .badge-new { background: rgba(139, 92, 246, 0.15); color: var(--accent-secondary); border: 1px solid rgba(139, 92, 246, 0.3); }

        /* Section */
        section { margin-bottom: 80px; }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 32px;
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .section-title::after {
            content: '';
            flex: 1;
            height: 1px;
            background: linear-gradient(90deg, var(--border-color), transparent);
        }

        /* Metrics Grid */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 16px;
            margin-top: 32px;
        }

        .metric {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 24px 16px;
            text-align: center;
            transition: all 0.2s;
        }

        .metric:hover {
            border-color: var(--accent-primary);
            transform: translateY(-2px);
        }

        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .metric-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-top: 8px;
        }

        /* Architecture Diagram */
        .architecture-container {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 32px;
            overflow-x: auto;
            margin: 32px 0;
        }

        .architecture-container pre {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.72rem;
            line-height: 1.5;
            color: var(--text-muted);
            margin: 0;
        }

        /* Dual Pipeline */
        .dual-pipeline {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin: 32px 0;
        }

        .pipeline-card {
            background: var(--bg-card);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 28px;
            position: relative;
            overflow: hidden;
        }

        .pipeline-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
        }

        .pipeline-card.stocks::before { background: var(--gradient-stocks); }
        .pipeline-card.options::before { background: var(--gradient-options); }

        .pipeline-card h4 {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .pipeline-card.stocks h4 { color: var(--accent-primary); }
        .pipeline-card.options h4 { color: var(--accent-orange); }

        .pipeline-card ul {
            list-style: none;
        }

        .pipeline-card li {
            padding: 10px 0;
            padding-left: 28px;
            position: relative;
            color: var(--text-secondary);
            font-size: 0.9rem;
            border-bottom: 1px solid rgba(63, 63, 70, 0.3);
        }

        .pipeline-card li:last-child { border-bottom: none; }

        .pipeline-card li::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .pipeline-card.stocks li::before { background: var(--accent-primary); }
        .pipeline-card.options li::before { background: var(--accent-orange); }

        /* Cards Grid */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
            gap: 20px;
        }

        .card {
            background: var(--bg-card);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 24px;
            transition: all 0.2s;
        }

        .card:hover {
            border-color: var(--border-hover);
            transform: translateY(-2px);
        }

        .card-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 12px;
            color: var(--accent-primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-content {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .card-content p {
            margin-bottom: 12px;
        }

        .card-content ul {
            list-style: none;
        }

        .card-content li {
            padding: 6px 0;
            padding-left: 20px;
            position: relative;
        }

        .card-content li::before {
            content: 'â†’';
            position: absolute;
            left: 0;
            color: var(--accent-success);
        }

        /* Table */
        .table-container {
            overflow-x: auto;
            margin: 32px 0;
            border-radius: 16px;
            border: 1px solid var(--border-color);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--bg-secondary);
        }

        th, td {
            padding: 16px 20px;
            text-align: left;
        }

        th {
            background: var(--bg-tertiary);
            font-weight: 600;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-secondary);
        }

        td {
            color: var(--text-secondary);
            font-size: 0.9rem;
            border-top: 1px solid var(--border-color);
        }

        tr:hover td { background: rgba(39, 39, 42, 0.5); }

        /* Tech Stack */
        .tech-section { margin-bottom: 28px; }

        .tech-section h4 {
            color: var(--text-muted);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 12px;
        }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .tech-tag {
            padding: 10px 16px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--text-secondary);
            transition: all 0.2s;
        }

        .tech-tag:hover {
            border-color: var(--accent-primary);
            color: var(--accent-primary);
        }

        /* Pipeline Flow */
        .pipeline-flow {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin: 32px 0;
            flex-wrap: wrap;
        }

        .pipeline-step {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 16px 24px;
            text-align: center;
            min-width: 140px;
            transition: all 0.2s;
        }

        .pipeline-step:hover {
            border-color: var(--accent-primary);
            transform: translateY(-2px);
        }

        .pipeline-step.active {
            border-color: var(--accent-success);
            box-shadow: 0 0 20px rgba(34, 197, 94, 0.2);
        }

        .pipeline-step-title {
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 4px;
        }

        .pipeline-step-time {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .pipeline-arrow {
            color: var(--accent-primary);
            font-size: 1.25rem;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 48px 0;
            border-top: 1px solid var(--border-color);
            margin-top: 80px;
        }

        footer p { color: var(--text-muted); font-size: 0.875rem; }
        footer a { color: var(--text-secondary); text-decoration: none; transition: color 0.2s; }
        footer a:hover { color: var(--accent-primary); }

        /* Responsive */
        @media (max-width: 1024px) {
            .metrics-grid { grid-template-columns: repeat(3, 1fr); }
        }

        @media (max-width: 768px) {
            header h1 { font-size: 2rem; }
            .metrics-grid { grid-template-columns: repeat(2, 1fr); }
            .dual-pipeline { grid-template-columns: 1fr; }
            .cards-grid { grid-template-columns: 1fr; }
            .pipeline-flow { flex-direction: column; }
            .pipeline-arrow { transform: rotate(90deg); }
            .architecture-container pre { font-size: 0.55rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
            Back to Portfolio
        </a>

        <header>
            <h1>ğŸ—ï¸ Automated Trading Infrastructure</h1>
            <p>
                Enterprise-grade CI/CD pipeline for algorithmic trading. Dual-gateway architecture 
                supporting parallel stock and options trading with ML-powered signal generation.
            </p>
            <div class="badges">
                <span class="badge badge-production">â— Production</span>
                <span class="badge badge-private">Private Repository</span>
                <span class="badge badge-new">Dual Gateway</span>
            </div>
        </header>

        <!-- Metrics -->
        <section>
            <h2 class="section-title">System Overview</h2>
            <p style="color: var(--text-secondary); margin-bottom: 16px;">
                A complete DevOps solution integrating broker connectivity, machine learning inference, 
                paper trading execution, and real-time monitoring into a unified automated pipeline.
            </p>
            <div class="metrics-grid">
                <div class="metric">
                    <div class="metric-value">~3min</div>
                    <div class="metric-label">Pipeline</div>
                </div>
                <div class="metric">
                    <div class="metric-value">5,600+</div>
                    <div class="metric-label">Tickers</div>
                </div>
                <div class="metric">
                    <div class="metric-value">6</div>
                    <div class="metric-label">ML Models</div>
                </div>
                <div class="metric">
                    <div class="metric-value">7</div>
                    <div class="metric-label">Containers</div>
                </div>
                <div class="metric">
                    <div class="metric-value">2</div>
                    <div class="metric-label">Gateways</div>
                </div>
                <div class="metric">
                    <div class="metric-value">5</div>
                    <div class="metric-label">Workflows</div>
                </div>
            </div>
        </section>

        <!-- Architecture -->
        <section>
            <h2 class="section-title">Architecture Diagram</h2>
            <div class="architecture-container">
<pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                               VERSION CONTROL (GitHub)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Repository                                                                   â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ .github/workflows/              # CI/CD pipeline definitions             â”‚  â”‚
â”‚  â”‚  â”‚   â”œâ”€â”€ schedule.yml                # Daily stock scanning                   â”‚  â”‚
â”‚  â”‚  â”‚   â”œâ”€â”€ paper-trading.yml           # XLS-based paper trading                â”‚  â”‚
â”‚  â”‚  â”‚   â”œâ”€â”€ stock-paper-trading.yml     # IBKR stock paper trading               â”‚  â”‚
â”‚  â”‚  â”‚   â”œâ”€â”€ options-trading.yml         # Options scan + paper trading           â”‚  â”‚
â”‚  â”‚  â”‚   â””â”€â”€ gateway-control.yml         # Manual gateway management              â”‚  â”‚
â”‚  â”‚  â”‚                                                                            â”‚  â”‚
â”‚  â”‚  â””â”€â”€ docker/                         # Containerized services                 â”‚  â”‚
â”‚  â”‚      â”œâ”€â”€ ibkr-data-fetch/            # IV percentile data collection          â”‚  â”‚
â”‚  â”‚      â”œâ”€â”€ ml-scanner/                 # Stock ML ensemble (3 models)           â”‚  â”‚
â”‚  â”‚      â”œâ”€â”€ options-scanner/            # Options spread scanner (3 models)      â”‚  â”‚
â”‚  â”‚      â”œâ”€â”€ stock-trader/               # Stock paper trading with TP/SL         â”‚  â”‚
â”‚  â”‚      â””â”€â”€ options-trader/             # Options spread execution               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚ trigger                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      GitHub Actions (Self-hosted Runner)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                               â”‚  â”‚
â”‚  â”‚   STOCK PIPELINE (Gateway 1)               OPTIONS PIPELINE (Gateway 2)       â”‚  â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  â”‚
â”‚  â”‚   â”‚ IB Gateway 1              â”‚            â”‚ IB Gateway 2              â”‚      â”‚  â”‚
â”‚  â”‚   â”‚      â–¼                    â”‚            â”‚      â–¼                    â”‚      â”‚  â”‚
â”‚  â”‚   â”‚ Data Fetch                â”‚            â”‚ Options Scanner           â”‚      â”‚  â”‚
â”‚  â”‚   â”‚      â–¼                    â”‚            â”‚      â–¼                    â”‚      â”‚  â”‚
â”‚  â”‚   â”‚ ML Scanner (v32d)         â”‚            â”‚ Options Trader            â”‚      â”‚  â”‚
â”‚  â”‚   â”‚      â–¼                    â”‚            â”‚      â–¼                    â”‚      â”‚  â”‚
â”‚  â”‚   â”‚ Stock Trader (TP/SL)      â”‚            â”‚ OCA Protection Orders     â”‚      â”‚  â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  â”‚
â”‚  â”‚                                                                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚ Docker Network
                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             PRODUCTION SERVER (VPS)                                 â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         Docker Network: trading                                â”‚ â”‚
â”‚  â”‚                                                                                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚ â”‚
â”‚  â”‚  â”‚   IB Gateway 1   â”‚  â”‚   IB Gateway 2   â”‚    Dual Gateway Architecture      â”‚ â”‚
â”‚  â”‚  â”‚     (Stocks)     â”‚  â”‚    (Options)     â”‚                                   â”‚ â”‚
â”‚  â”‚  â”‚                  â”‚  â”‚                  â”‚    â€¢ Parallel processing          â”‚ â”‚
â”‚  â”‚  â”‚   â€¢ Data fetch   â”‚  â”‚  â€¢ Spread scan   â”‚    â€¢ Independent sessions         â”‚ â”‚
â”‚  â”‚  â”‚   â€¢ ML scanning  â”‚  â”‚  â€¢ Order exec    â”‚    â€¢ VNC remote access            â”‚ â”‚
â”‚  â”‚  â”‚   â€¢ Paper trade  â”‚  â”‚  â€¢ Paper trade   â”‚                                   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚ â”‚
â”‚  â”‚           â”‚                     â”‚                                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚ â”‚
â”‚  â”‚  â”‚                                        â”‚   Ephemeral Compute                â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                                    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  ML Scanner  â”‚ â”‚   Options    â”‚    â”‚   â€¢ On-demand execution            â”‚ â”‚
â”‚  â”‚  â”‚  â”‚   (v32d)     â”‚ â”‚   Scanner    â”‚    â”‚   â€¢ Auto cleanup (--rm)            â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  RF+MLP+XGB  â”‚ â”‚ XGB+LGBM+RF  â”‚    â”‚   â€¢ Resource limits                â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                                    â”‚ â”‚
â”‚  â”‚  â”‚                                        â”‚                                    â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   Paper Trading                    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚    Stock     â”‚ â”‚   Options    â”‚    â”‚                                    â”‚ â”‚
â”‚  â”‚  â”‚  â”‚   Trader     â”‚ â”‚   Trader     â”‚    â”‚   â€¢ TP/SL bracket orders           â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  Dual Stop   â”‚ â”‚  OCA groups  â”‚    â”‚   â€¢ Position management            â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                                    â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚ â”‚
â”‚  â”‚                          â”‚                                                     â”‚ â”‚
â”‚  â”‚                          â–¼                                                     â”‚ â”‚
â”‚  â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚ â”‚
â”‚  â”‚             â”‚     Shared Data Volume     â”‚                                    â”‚ â”‚
â”‚  â”‚             â”‚   â€¢ IV percentile data     â”‚                                    â”‚ â”‚
â”‚  â”‚             â”‚   â€¢ ML signals & scores    â”‚                                    â”‚ â”‚
â”‚  â”‚             â”‚   â€¢ Options recommendationsâ”‚                                    â”‚ â”‚
â”‚  â”‚             â”‚   â€¢ Execution logs         â”‚                                    â”‚ â”‚
â”‚  â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                       Docker Network: monitoring                               â”‚ â”‚
â”‚  â”‚                                                                                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚Prometheus â”‚ â”‚  Grafana  â”‚ â”‚    Loki   â”‚ â”‚ Promtail  â”‚ â”‚  Alertmanager   â”‚  â”‚ â”‚
â”‚  â”‚  â”‚           â”‚ â”‚           â”‚ â”‚           â”‚ â”‚           â”‚ â”‚                 â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  Metrics  â”‚ â”‚ Dashboardsâ”‚ â”‚    Logs   â”‚ â”‚ Log Agent â”‚ â”‚  Notifications  â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre>
            </div>
        </section>

        <!-- Dual Pipeline -->
        <section>
            <h2 class="section-title">Dual Pipeline Architecture</h2>
            <p style="color: var(--text-secondary); margin-bottom: 24px;">
                Two independent trading pipelines with dedicated broker gateways, ML models, 
                and execution containers enabling parallel processing without interference.
            </p>
            <div class="dual-pipeline">
                <div class="pipeline-card stocks">
                    <h4>ğŸ“ˆ Stock Pipeline (Gateway 1)</h4>
                    <ul>
                        <li>IV percentile data collection</li>
                        <li>5,600+ tickers scanning</li>
                        <li>3-model ML ensemble (RF, MLP, XGBoost)</li>
                        <li>Technical signals (RSI, BB, SMA)</li>
                        <li>Paper trading with TP/SL brackets</li>
                        <li>Dual stop protection system</li>
                    </ul>
                </div>
                <div class="pipeline-card options">
                    <h4>ğŸ¯ Options Pipeline (Gateway 2)</h4>
                    <ul>
                        <li>Credit spread scanner (PUT spreads)</li>
                        <li>Greeks calculation & filtering</li>
                        <li>3-model ML risk scoring</li>
                        <li>Spread recommendations ranking</li>
                        <li>Paper trading with OCA groups</li>
                        <li>Automatic protection orders</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Pipeline Flow -->
        <section>
            <h2 class="section-title">Stock Pipeline Flow</h2>
            <div class="pipeline-flow">
                <div class="pipeline-step active">
                    <div class="pipeline-step-title">ğŸ”Œ Gateway</div>
                    <div class="pipeline-step-time">~2 min</div>
                </div>
                <span class="pipeline-arrow">â†’</span>
                <div class="pipeline-step">
                    <div class="pipeline-step-title">ğŸ“Š Data Fetch</div>
                    <div class="pipeline-step-time">~30 sec</div>
                </div>
                <span class="pipeline-arrow">â†’</span>
                <div class="pipeline-step">
                    <div class="pipeline-step-title">ğŸ¤– ML Scan</div>
                    <div class="pipeline-step-time">~20 sec</div>
                </div>
                <span class="pipeline-arrow">â†’</span>
                <div class="pipeline-step">
                    <div class="pipeline-step-title">â˜ï¸ Cloud Sync</div>
                    <div class="pipeline-step-time">~10 sec</div>
                </div>
                <span class="pipeline-arrow">â†’</span>
                <div class="pipeline-step">
                    <div class="pipeline-step-title">ğŸ“¨ Notify</div>
                    <div class="pipeline-step-time">~2 sec</div>
                </div>
            </div>
        </section>

        <!-- Key Components -->
        <section>
            <h2 class="section-title">Key Components</h2>
            <div class="cards-grid">
                <div class="card">
                    <h3 class="card-title">ğŸ”„ CI/CD Workflows</h3>
                    <div class="card-content">
                        <p>Five automated workflows for different trading operations.</p>
                        <ul>
                            <li><strong>schedule.yml</strong> - Daily stock scanning</li>
                            <li><strong>paper-trading.yml</strong> - XLS simulation</li>
                            <li><strong>stock-paper-trading.yml</strong> - IBKR stocks</li>
                            <li><strong>options-trading.yml</strong> - Options pipeline</li>
                            <li><strong>gateway-control.yml</strong> - Management</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">ğŸ³ Docker Containers</h3>
                    <div class="card-content">
                        <p>Seven specialized Docker containers.</p>
                        <ul>
                            <li>2Ã— Broker Gateways (dual architecture)</li>
                            <li>1Ã— Data Collector (IV percentile)</li>
                            <li>2Ã— ML Scanners (stocks + options)</li>
                            <li>2Ã— Paper Traders (stocks + options)</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">ğŸ¤– ML Models (Stocks)</h3>
                    <div class="card-content">
                        <p>v32d ensemble with calibrated predictions.</p>
                        <ul>
                            <li>Random Forest (35% weight)</li>
                            <li>Multi-Layer Perceptron (40% weight)</li>
                            <li>XGBoost (25% weight)</li>
                            <li>Veto mechanism (threshold: 0.15)</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">ğŸ¯ ML Models (Options)</h3>
                    <div class="card-content">
                        <p>Risk scoring for credit spreads.</p>
                        <ul>
                            <li>XGBoost risk model</li>
                            <li>LightGBM risk model</li>
                            <li>Random Forest risk model</li>
                            <li>Greeks-based filtering</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">ğŸ“ˆ Stock Paper Trading</h3>
                    <div class="card-content">
                        <p>Automated position management.</p>
                        <ul>
                            <li>TP/SL bracket orders</li>
                            <li>Dual stop (fixed + trailing)</li>
                            <li>GTC order persistence</li>
                            <li>Max hold days enforcement</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">ğŸ¯ Options Paper Trading</h3>
                    <div class="card-content">
                        <p>Credit spread execution.</p>
                        <ul>
                            <li>One-Cancels-All (OCA) groups</li>
                            <li>Take profit (50% target)</li>
                            <li>Stop loss (200% max loss)</li>
                            <li>Orphan position adoption</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Container Specs -->
        <section>
            <h2 class="section-title">Container Specifications</h2>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Service</th>
                            <th>Type</th>
                            <th>Memory</th>
                            <th>Lifecycle</th>
                            <th>Network</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Broker Gateway 1</td><td>External Image</td><td>~500 MB</td><td>On-demand</td><td>trading</td></tr>
                        <tr><td>Broker Gateway 2</td><td>External Image</td><td>~500 MB</td><td>On-demand</td><td>trading</td></tr>
                        <tr><td>Data Collector</td><td>Custom Build</td><td>~200 MB</td><td>Ephemeral</td><td>trading</td></tr>
                        <tr><td>ML Scanner (Stocks)</td><td>Custom Build</td><td>~2 GB</td><td>Ephemeral</td><td>trading</td></tr>
                        <tr><td>Options Scanner</td><td>Custom Build</td><td>~1 GB</td><td>Ephemeral</td><td>trading</td></tr>
                        <tr><td>Stock Trader</td><td>Custom Build</td><td>~200 MB</td><td>Ephemeral</td><td>trading</td></tr>
                        <tr><td>Options Trader</td><td>Custom Build</td><td>~300 MB</td><td>Ephemeral</td><td>trading</td></tr>
                        <tr><td>Prometheus</td><td>Official</td><td>~256 MB</td><td>Persistent</td><td>monitoring</td></tr>
                        <tr><td>Grafana</td><td>Official</td><td>~200 MB</td><td>Persistent</td><td>monitoring</td></tr>
                        <tr><td>Loki</td><td>Official</td><td>~256 MB</td><td>Persistent</td><td>monitoring</td></tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Technology Stack -->
        <section>
            <h2 class="section-title">Technology Stack</h2>
            
            <div class="tech-section">
                <h4>Infrastructure</h4>
                <div class="tech-stack">
                    <span class="tech-tag">Docker</span>
                    <span class="tech-tag">Docker Compose</span>
                    <span class="tech-tag">GitHub Actions</span>
                    <span class="tech-tag">Self-hosted Runner</span>
                    <span class="tech-tag">Linux (Ubuntu 24)</span>
                </div>
            </div>

            <div class="tech-section">
                <h4>Monitoring</h4>
                <div class="tech-stack">
                    <span class="tech-tag">Prometheus</span>
                    <span class="tech-tag">Grafana</span>
                    <span class="tech-tag">Loki</span>
                    <span class="tech-tag">Promtail</span>
                    <span class="tech-tag">cAdvisor</span>
                    <span class="tech-tag">Alertmanager</span>
                </div>
            </div>

            <div class="tech-section">
                <h4>Machine Learning</h4>
                <div class="tech-stack">
                    <span class="tech-tag">scikit-learn 1.7.0</span>
                    <span class="tech-tag">XGBoost 3.0.2</span>
                    <span class="tech-tag">LightGBM</span>
                    <span class="tech-tag">NumPy</span>
                    <span class="tech-tag">SciPy</span>
                    <span class="tech-tag">joblib</span>
                </div>
            </div>

            <div class="tech-section">
                <h4>Trading</h4>
                <div class="tech-stack">
                    <span class="tech-tag">Python 3.11</span>
                    <span class="tech-tag">ib_insync</span>
                    <span class="tech-tag">pandas</span>
                    <span class="tech-tag">TA-Lib</span>
                    <span class="tech-tag">yfinance</span>
                    <span class="tech-tag">PyYAML</span>
                </div>
            </div>
        </section>

        <!-- Design Decisions -->
        <section>
            <h2 class="section-title">Design Decisions</h2>
            <div class="cards-grid">
                <div class="card">
                    <h3 class="card-title">ğŸ’¡ Why Dual Gateway?</h3>
                    <div class="card-content">
                        <p>
                            Separate broker gateways for stocks and options enable parallel processing
                            without session conflicts. Independent market data subscriptions and order routing.
                        </p>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">ğŸ’¡ Why Ephemeral Containers?</h3>
                    <div class="card-content">
                        <p>
                            Containers run with <code>--rm</code> flag and are destroyed after each run.
                            Ensures clean state, prevents resource leaks, and provides consistent environment.
                        </p>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">ğŸ’¡ Why Self-hosted Runner?</h3>
                    <div class="card-content">
                        <p>
                            GitHub-hosted runners cannot access the private broker network.
                            Self-hosted runner enables direct Docker control and local network access.
                        </p>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">ğŸ’¡ Why OCA Orders?</h3>
                    <div class="card-content">
                        <p>
                            One-Cancels-All groups ensure that when TP or SL triggers, the other 
                            is automatically cancelled. Prevents double execution.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <footer>
            <p>Built with precision Â· <a href="../index.html">Marcin Bury</a></p>
            <p style="margin-top: 8px;">
                <a href="https://github.com/burdzik2033">GitHub</a> Â· 
                <a href="https://www.linkedin.com/in/marcinbury/">LinkedIn</a>
            </p>
        </footer>
    </div>
</body>
</html>
