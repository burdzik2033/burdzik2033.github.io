<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trading Infrastructure | Marcin Bury Portfolio</title>
    <style>
        :root {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --bg-tertiary: #21262d;
            --text-primary: #f0f6fc;
            --text-secondary: #8b949e;
            --accent-blue: #58a6ff;
            --accent-green: #3fb950;
            --accent-purple: #a371f7;
            --accent-orange: #d29922;
            --accent-red: #f85149;
            --border-color: #30363d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 3rem 0;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 3rem;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            color: var(--text-secondary);
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 2rem;
            color: var(--accent-blue);
            text-decoration: none;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        /* Badges */
        .badges {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 1.5rem;
        }

        .badge {
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .badge-production { background: rgba(63, 185, 80, 0.2); color: var(--accent-green); }
        .badge-private { background: rgba(248, 81, 73, 0.2); color: var(--accent-red); }
        .badge-cloud { background: rgba(88, 166, 255, 0.2); color: var(--accent-blue); }
        .badge-new { background: rgba(163, 113, 247, 0.2); color: var(--accent-purple); }

        /* Section */
        .section {
            margin-bottom: 4rem;
        }

        .section-title {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--accent-blue);
            display: inline-block;
        }

        /* Architecture Diagram */
        .architecture-diagram {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 2rem;
            overflow-x: auto;
            margin: 2rem 0;
        }

        .architecture-diagram pre {
            font-family: 'JetBrains Mono', 'Fira Code', monospace;
            font-size: 0.75rem;
            line-height: 1.4;
            color: var(--text-secondary);
        }

        /* Cards Grid */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            transition: transform 0.2s, border-color 0.2s;
        }

        .card:hover {
            transform: translateY(-2px);
            border-color: var(--accent-blue);
        }

        .card-title {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: var(--accent-blue);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card-content {
            color: var(--text-secondary);
        }

        .card-content ul {
            list-style: none;
            margin-top: 0.5rem;
        }

        .card-content li {
            padding: 0.3rem 0;
            padding-left: 1.5rem;
            position: relative;
        }

        .card-content li::before {
            content: "â†’";
            position: absolute;
            left: 0;
            color: var(--accent-green);
        }

        /* Tech Stack */
        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .tech-tag {
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
            font-size: 0.85rem;
            border: 1px solid var(--border-color);
        }

        /* Pipeline Flow */
        .pipeline {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            align-items: center;
            justify-content: center;
            margin: 2rem 0;
        }

        .pipeline-step {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem 1.5rem;
            text-align: center;
            min-width: 150px;
        }

        .pipeline-step.active {
            border-color: var(--accent-green);
            box-shadow: 0 0 20px rgba(63, 185, 80, 0.2);
        }

        .pipeline-step-title {
            font-weight: 600;
            margin-bottom: 0.3rem;
        }

        .pipeline-step-time {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .pipeline-arrow {
            color: var(--accent-blue);
            font-size: 1.5rem;
        }

        /* Metrics */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .metric {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
        }

        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent-blue);
        }

        .metric-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 0.3rem;
        }

        /* Table */
        .table-container {
            overflow-x: auto;
            margin-top: 1.5rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: var(--bg-secondary);
            border-radius: 8px;
            overflow: hidden;
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background: var(--bg-tertiary);
            font-weight: 600;
            color: var(--text-primary);
        }

        td {
            color: var(--text-secondary);
        }

        /* Dual Pipeline */
        .dual-pipeline {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }

        .pipeline-column {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
        }

        .pipeline-column h4 {
            color: var(--accent-purple);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .pipeline-column.stocks {
            border-color: var(--accent-blue);
        }

        .pipeline-column.options {
            border-color: var(--accent-orange);
        }

        .pipeline-column h4.stocks {
            color: var(--accent-blue);
        }

        .pipeline-column h4.options {
            color: var(--accent-orange);
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 2rem 0;
            margin-top: 4rem;
            border-top: 1px solid var(--border-color);
            color: var(--text-secondary);
        }

        .footer a {
            color: var(--accent-blue);
            text-decoration: none;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }

            .architecture-diagram pre {
                font-size: 0.55rem;
            }

            .pipeline {
                flex-direction: column;
            }

            .pipeline-arrow {
                transform: rotate(90deg);
            }

            .dual-pipeline {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">â† Back to Portfolio</a>

        <header class="header">
            <h1>ğŸ—ï¸ Automated Trading Infrastructure</h1>
            <p>
                Enterprise-grade CI/CD pipeline for algorithmic trading systems. 
                Dual-gateway architecture supporting parallel stock and options trading 
                with ML-powered signal generation and automated paper trading.
            </p>
            <div class="badges">
                <span class="badge badge-production">â— Production</span>
                <span class="badge badge-private">Private Repository</span>
                <span class="badge badge-cloud">Self-Hosted Cloud</span>
                <span class="badge badge-new">DUAL GATEWAY</span>
            </div>
        </header>

        <!-- Overview Section -->
        <section class="section">
            <h2 class="section-title">System Overview</h2>
            <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">
                A complete DevOps solution for running algorithmic trading workloads. The system 
                integrates broker connectivity, machine learning inference, paper trading execution,
                and real-time monitoring into a unified, automated pipeline. Features dual-gateway
                architecture for parallel processing of stocks and options strategies.
            </p>

            <div class="metrics-grid">
                <div class="metric">
                    <div class="metric-value">~3 min</div>
                    <div class="metric-label">Pipeline Execution</div>
                </div>
                <div class="metric">
                    <div class="metric-value">5,600+</div>
                    <div class="metric-label">Tickers Analyzed</div>
                </div>
                <div class="metric">
                    <div class="metric-value">6</div>
                    <div class="metric-label">ML Models</div>
                </div>
                <div class="metric">
                    <div class="metric-value">7</div>
                    <div class="metric-label">Docker Containers</div>
                </div>
                <div class="metric">
                    <div class="metric-value">2</div>
                    <div class="metric-label">Broker Gateways</div>
                </div>
                <div class="metric">
                    <div class="metric-value">5</div>
                    <div class="metric-label">CI/CD Workflows</div>
                </div>
            </div>
        </section>

        <!-- Architecture Diagram -->
        <section class="section">
            <h2 class="section-title">Architecture Diagram</h2>
            <div class="architecture-diagram">
<pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              VERSION CONTROL (GitHub)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Repository                                                                  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€ .github/workflows/              # CI/CD pipeline definitions            â”‚  â”‚
â”‚  â”‚  â”‚   â”œâ”€â”€ schedule.yml                # Daily stock scanning                  â”‚  â”‚
â”‚  â”‚  â”‚   â”œâ”€â”€ paper-trading.yml           # XLS-based paper trading               â”‚  â”‚
â”‚  â”‚  â”‚   â”œâ”€â”€ stock-paper-trading.yml     # IBKR stock paper trading              â”‚  â”‚
â”‚  â”‚  â”‚   â”œâ”€â”€ options-trading.yml         # Options scan + paper trading          â”‚  â”‚
â”‚  â”‚  â”‚   â””â”€â”€ gateway-control.yml         # Manual gateway management             â”‚  â”‚
â”‚  â”‚  â”‚                                                                           â”‚  â”‚
â”‚  â”‚  â””â”€â”€ docker/                         # Containerized services                â”‚  â”‚
â”‚  â”‚      â”œâ”€â”€ ibkr-data-fetch/            # IV percentile data collection         â”‚  â”‚
â”‚  â”‚      â”œâ”€â”€ ml-scanner/                 # Stock ML ensemble (3 models)          â”‚  â”‚
â”‚  â”‚      â”œâ”€â”€ options-scanner/            # Options spread scanner (3 models)     â”‚  â”‚
â”‚  â”‚      â”œâ”€â”€ stock-trader/               # Stock paper trading with TP/SL        â”‚  â”‚
â”‚  â”‚      â””â”€â”€ options-trader/             # Options spread execution              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚ trigger                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     GitHub Actions (Self-hosted Runner)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                              â”‚  â”‚
â”‚  â”‚   STOCK PIPELINE (Gateway 1)              OPTIONS PIPELINE (Gateway 2)       â”‚  â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚  â”‚
â”‚  â”‚   â”‚ IB Gateway 1             â”‚            â”‚ IB Gateway 2             â”‚       â”‚  â”‚
â”‚  â”‚   â”‚      â–¼                   â”‚            â”‚      â–¼                   â”‚       â”‚  â”‚
â”‚  â”‚   â”‚ Data Fetch               â”‚            â”‚ Options Scanner          â”‚       â”‚  â”‚
â”‚  â”‚   â”‚      â–¼                   â”‚            â”‚      â–¼                   â”‚       â”‚  â”‚
â”‚  â”‚   â”‚ ML Scanner (v32d)        â”‚            â”‚ Options Trader           â”‚       â”‚  â”‚
â”‚  â”‚   â”‚      â–¼                   â”‚            â”‚      â–¼                   â”‚       â”‚  â”‚
â”‚  â”‚   â”‚ Stock Trader (TP/SL)     â”‚            â”‚ OCA Protection Orders    â”‚       â”‚  â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚  â”‚
â”‚  â”‚                                                                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚ Docker Network
                                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            PRODUCTION SERVER (VPS)                                 â”‚
â”‚                                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        Docker Network: trading                                â”‚ â”‚
â”‚  â”‚                                                                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                    â”‚ â”‚
â”‚  â”‚  â”‚  IB Gateway 1   â”‚  â”‚  IB Gateway 2   â”‚   Dual Gateway Architecture        â”‚ â”‚
â”‚  â”‚  â”‚  (Stocks)       â”‚  â”‚  (Options)      â”‚                                    â”‚ â”‚
â”‚  â”‚  â”‚                 â”‚  â”‚                 â”‚   â€¢ Parallel processing            â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Data fetch   â”‚  â”‚  â€¢ Spread scan  â”‚   â€¢ Independent sessions           â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ ML scanning  â”‚  â”‚  â€¢ Order exec   â”‚   â€¢ VNC remote access              â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Paper trade  â”‚  â”‚  â€¢ Paper trade  â”‚   â€¢ Isolated workloads             â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚ â”‚
â”‚  â”‚          â”‚                    â”‚                                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”                                      â”‚ â”‚
â”‚  â”‚  â”‚                                     â”‚                                      â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   Ephemeral Compute Containers       â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ ML Scanner  â”‚ â”‚ Options     â”‚   â”‚                                      â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ (v32d)      â”‚ â”‚ Scanner     â”‚   â”‚   â€¢ On-demand execution              â”‚ â”‚
â”‚  â”‚  â”‚  â”‚             â”‚ â”‚             â”‚   â”‚   â€¢ Auto cleanup (--rm)              â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ RF+MLP+XGB  â”‚ â”‚ XGB+LGBM+RF â”‚   â”‚   â€¢ Resource limits                  â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                                      â”‚ â”‚
â”‚  â”‚  â”‚                                     â”‚                                      â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   Paper Trading Containers           â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ Stock       â”‚ â”‚ Options     â”‚   â”‚                                      â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ Trader      â”‚ â”‚ Trader      â”‚   â”‚   â€¢ TP/SL bracket orders             â”‚ â”‚
â”‚  â”‚  â”‚  â”‚             â”‚ â”‚             â”‚   â”‚   â€¢ OCA protection groups            â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ Dual Stop   â”‚ â”‚ Spread exec â”‚   â”‚   â€¢ Position management              â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                                      â”‚ â”‚
â”‚  â”‚  â”‚                                     â”‚                                      â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                      â”‚ â”‚
â”‚  â”‚                         â”‚                                                      â”‚ â”‚
â”‚  â”‚                         â–¼                                                      â”‚ â”‚
â”‚  â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”‚ â”‚
â”‚  â”‚            â”‚     Shared Data Volume    â”‚                                      â”‚ â”‚
â”‚  â”‚            â”‚   â€¢ IV percentile data    â”‚                                      â”‚ â”‚
â”‚  â”‚            â”‚   â€¢ ML signals & scores   â”‚                                      â”‚ â”‚
â”‚  â”‚            â”‚   â€¢ Options recommendationsâ”‚                                     â”‚ â”‚
â”‚  â”‚            â”‚   â€¢ Paper trading state   â”‚                                      â”‚ â”‚
â”‚  â”‚            â”‚   â€¢ Execution logs        â”‚                                      â”‚ â”‚
â”‚  â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                      Docker Network: monitoring                               â”‚ â”‚
â”‚  â”‚                                                                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚Prometheusâ”‚ â”‚ Grafana  â”‚ â”‚   Loki   â”‚ â”‚Promtail  â”‚ â”‚   Alertmanager   â”‚   â”‚ â”‚
â”‚  â”‚  â”‚          â”‚ â”‚          â”‚ â”‚          â”‚ â”‚          â”‚ â”‚                  â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ Metrics  â”‚ â”‚Dashboardsâ”‚ â”‚   Logs   â”‚ â”‚Log Agent â”‚ â”‚  Notifications   â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚       â”‚            â”‚            â”‚            â”‚               â”‚               â”‚ â”‚
â”‚  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚ â”‚
â”‚  â”‚                                 â”‚                                             â”‚ â”‚
â”‚  â”‚                                 â–¼                                             â”‚ â”‚
â”‚  â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚ â”‚
â”‚  â”‚                    â”‚    cAdvisor + Node    â”‚                                  â”‚ â”‚
â”‚  â”‚                    â”‚       Exporter        â”‚                                  â”‚ â”‚
â”‚  â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre>
            </div>
        </section>

        <!-- Dual Pipeline Section -->
        <section class="section">
            <h2 class="section-title">Dual Pipeline Architecture</h2>
            <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">
                The system features two independent trading pipelines, each with dedicated 
                broker gateway, ML models, and execution containers. This enables parallel 
                processing of different asset classes without interference.
            </p>

            <div class="dual-pipeline">
                <div class="pipeline-column stocks">
                    <h4 class="stocks">ğŸ“ˆ Stock Pipeline (Gateway 1)</h4>
                    <div class="card-content">
                        <ul>
                            <li>IV percentile data collection</li>
                            <li>5,600+ tickers scanning</li>
                            <li>3-model ML ensemble (RF, MLP, XGBoost)</li>
                            <li>Technical signals (RSI, BB, SMA)</li>
                            <li>Paper trading with TP/SL brackets</li>
                            <li>Dual stop protection system</li>
                        </ul>
                    </div>
                </div>

                <div class="pipeline-column options">
                    <h4 class="options">ğŸ¯ Options Pipeline (Gateway 2)</h4>
                    <div class="card-content">
                        <ul>
                            <li>Credit spread scanner (PUT spreads)</li>
                            <li>Greeks calculation & filtering</li>
                            <li>3-model ML risk scoring</li>
                            <li>Spread recommendations ranking</li>
                            <li>Paper trading with OCA groups</li>
                            <li>Automatic protection orders</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Pipeline Flow -->
        <section class="section">
            <h2 class="section-title">Stock Trading Pipeline Flow</h2>
            <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">
                The main daily pipeline executes as a directed acyclic graph (DAG) with dependency 
                management and automatic cleanup. Each stage validates prerequisites before execution.
            </p>

            <div class="pipeline">
                <div class="pipeline-step active">
                    <div class="pipeline-step-title">ğŸ”Œ Gateway Start</div>
                    <div class="pipeline-step-time">~2 min</div>
                </div>
                <span class="pipeline-arrow">â†’</span>
                <div class="pipeline-step">
                    <div class="pipeline-step-title">ğŸ“Š Data Fetch</div>
                    <div class="pipeline-step-time">~30 sec</div>
                </div>
                <span class="pipeline-arrow">â†’</span>
                <div class="pipeline-step">
                    <div class="pipeline-step-title">ğŸ¤– ML Scan</div>
                    <div class="pipeline-step-time">~20 sec</div>
                </div>
                <span class="pipeline-arrow">â†’</span>
                <div class="pipeline-step">
                    <div class="pipeline-step-title">â˜ï¸ Cloud Sync</div>
                    <div class="pipeline-step-time">~10 sec</div>
                </div>
                <span class="pipeline-arrow">â†’</span>
                <div class="pipeline-step">
                    <div class="pipeline-step-title">ğŸ“¨ Notify</div>
                    <div class="pipeline-step-time">~2 sec</div>
                </div>
            </div>
        </section>

        <!-- Key Components -->
        <section class="section">
            <h2 class="section-title">Key Components</h2>
            <div class="cards-grid">
                <div class="card">
                    <h3 class="card-title">ğŸ”„ CI/CD Workflows</h3>
                    <div class="card-content">
                        <p>Five automated workflows for different trading operations.</p>
                        <ul>
                            <li><strong>schedule.yml</strong> - Daily stock scanning</li>
                            <li><strong>paper-trading.yml</strong> - XLS paper simulation</li>
                            <li><strong>stock-paper-trading.yml</strong> - IBKR stock trading</li>
                            <li><strong>options-trading.yml</strong> - Options pipeline</li>
                            <li><strong>gateway-control.yml</strong> - Manual management</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">ğŸ³ Container Architecture</h3>
                    <div class="card-content">
                        <p>Seven specialized Docker containers.</p>
                        <ul>
                            <li>2Ã— Broker Gateways (dual architecture)</li>
                            <li>1Ã— Data Collector (IV percentile)</li>
                            <li>2Ã— ML Scanners (stocks + options)</li>
                            <li>2Ã— Paper Traders (stocks + options)</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">ğŸ¤– ML Models (Stocks)</h3>
                    <div class="card-content">
                        <p>v32d ensemble with calibrated predictions.</p>
                        <ul>
                            <li>Random Forest (35% weight)</li>
                            <li>Multi-Layer Perceptron (40% weight)</li>
                            <li>XGBoost (25% weight)</li>
                            <li>Veto mechanism (threshold: 0.15)</li>
                            <li>Accept threshold: 0.75</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">ğŸ¯ ML Models (Options)</h3>
                    <div class="card-content">
                        <p>Risk scoring for credit spreads.</p>
                        <ul>
                            <li>XGBoost risk model</li>
                            <li>LightGBM risk model</li>
                            <li>Random Forest risk model</li>
                            <li>Greeks-based filtering</li>
                            <li>ROI potential scoring</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">ğŸ“ˆ Stock Paper Trading</h3>
                    <div class="card-content">
                        <p>Automated position management with protection.</p>
                        <ul>
                            <li>TP/SL bracket orders</li>
                            <li>Dual stop protection (fixed + trailing)</li>
                            <li>GTC order persistence</li>
                            <li>Daily position limits</li>
                            <li>Max hold days enforcement</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">ğŸ¯ Options Paper Trading</h3>
                    <div class="card-content">
                        <p>Credit spread execution with OCA protection.</p>
                        <ul>
                            <li>One-Cancels-All (OCA) groups</li>
                            <li>Take profit orders (50% target)</li>
                            <li>Stop loss orders (200% max loss)</li>
                            <li>Position adoption (orphan detection)</li>
                            <li>Daily order limits</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">ğŸ“Š Observability Stack</h3>
                    <div class="card-content">
                        <p>Full monitoring with metrics, logs, and alerting.</p>
                        <ul>
                            <li>Prometheus metrics collection</li>
                            <li>Grafana dashboards</li>
                            <li>Loki centralized logging</li>
                            <li>Telegram notifications</li>
                            <li>cAdvisor container metrics</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">ğŸ” Security Design</h3>
                    <div class="card-content">
                        <p>Secrets management and access control.</p>
                        <ul>
                            <li>GitHub encrypted secrets</li>
                            <li>No credentials in codebase</li>
                            <li>Network isolation between services</li>
                            <li>On-demand broker sessions</li>
                            <li>VNC access for debugging only</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Container Specifications -->
        <section class="section">
            <h2 class="section-title">Container Specifications</h2>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Service</th>
                            <th>Type</th>
                            <th>Memory</th>
                            <th>Lifecycle</th>
                            <th>Network</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Broker Gateway 1 (Stocks)</td>
                            <td>External Image</td>
                            <td>~500 MB</td>
                            <td>On-demand</td>
                            <td>trading</td>
                        </tr>
                        <tr>
                            <td>Broker Gateway 2 (Options)</td>
                            <td>External Image</td>
                            <td>~500 MB</td>
                            <td>On-demand</td>
                            <td>trading</td>
                        </tr>
                        <tr>
                            <td>Data Collector</td>
                            <td>Custom Build</td>
                            <td>~200 MB</td>
                            <td>Ephemeral</td>
                            <td>trading</td>
                        </tr>
                        <tr>
                            <td>ML Scanner (Stocks)</td>
                            <td>Custom Build</td>
                            <td>~2 GB (peak)</td>
                            <td>Ephemeral</td>
                            <td>trading</td>
                        </tr>
                        <tr>
                            <td>Options Scanner</td>
                            <td>Custom Build</td>
                            <td>~1 GB</td>
                            <td>Ephemeral</td>
                            <td>trading</td>
                        </tr>
                        <tr>
                            <td>Stock Trader</td>
                            <td>Custom Build</td>
                            <td>~200 MB</td>
                            <td>Ephemeral</td>
                            <td>trading</td>
                        </tr>
                        <tr>
                            <td>Options Trader</td>
                            <td>Custom Build</td>
                            <td>~300 MB</td>
                            <td>Ephemeral</td>
                            <td>trading</td>
                        </tr>
                        <tr>
                            <td>Prometheus</td>
                            <td>Official Image</td>
                            <td>~256 MB</td>
                            <td>Persistent</td>
                            <td>monitoring</td>
                        </tr>
                        <tr>
                            <td>Grafana</td>
                            <td>Official Image</td>
                            <td>~200 MB</td>
                            <td>Persistent</td>
                            <td>monitoring</td>
                        </tr>
                        <tr>
                            <td>Loki</td>
                            <td>Official Image</td>
                            <td>~256 MB</td>
                            <td>Persistent</td>
                            <td>monitoring</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Technology Stack -->
        <section class="section">
            <h2 class="section-title">Technology Stack</h2>
            
            <h3 style="color: var(--text-secondary); margin: 1.5rem 0 1rem;">Infrastructure</h3>
            <div class="tech-stack">
                <span class="tech-tag">Docker</span>
                <span class="tech-tag">Docker Compose</span>
                <span class="tech-tag">GitHub Actions</span>
                <span class="tech-tag">Self-hosted Runner</span>
                <span class="tech-tag">Linux (Ubuntu 24)</span>
                <span class="tech-tag">VPS Hosting</span>
            </div>

            <h3 style="color: var(--text-secondary); margin: 1.5rem 0 1rem;">Monitoring</h3>
            <div class="tech-stack">
                <span class="tech-tag">Prometheus</span>
                <span class="tech-tag">Grafana</span>
                <span class="tech-tag">Loki</span>
                <span class="tech-tag">Promtail</span>
                <span class="tech-tag">cAdvisor</span>
                <span class="tech-tag">Node Exporter</span>
                <span class="tech-tag">Alertmanager</span>
            </div>

            <h3 style="color: var(--text-secondary); margin: 1.5rem 0 1rem;">Machine Learning</h3>
            <div class="tech-stack">
                <span class="tech-tag">scikit-learn 1.7.0</span>
                <span class="tech-tag">XGBoost 3.0.2</span>
                <span class="tech-tag">LightGBM</span>
                <span class="tech-tag">joblib</span>
                <span class="tech-tag">NumPy</span>
                <span class="tech-tag">SciPy</span>
            </div>

            <h3 style="color: var(--text-secondary); margin: 1.5rem 0 1rem;">Trading</h3>
            <div class="tech-stack">
                <span class="tech-tag">Python 3.11</span>
                <span class="tech-tag">ib_insync</span>
                <span class="tech-tag">pandas</span>
                <span class="tech-tag">TA-Lib</span>
                <span class="tech-tag">yfinance</span>
                <span class="tech-tag">PyYAML</span>
            </div>

            <h3 style="color: var(--text-secondary); margin: 1.5rem 0 1rem;">DevOps Practices</h3>
            <div class="tech-stack">
                <span class="tech-tag">GitOps</span>
                <span class="tech-tag">Infrastructure as Code</span>
                <span class="tech-tag">Containerization</span>
                <span class="tech-tag">CI/CD</span>
                <span class="tech-tag">Centralized Logging</span>
                <span class="tech-tag">Metrics-based Monitoring</span>
            </div>
        </section>

        <!-- Design Decisions -->
        <section class="section">
            <h2 class="section-title">Key Design Decisions</h2>
            <div class="cards-grid">
                <div class="card">
                    <h3 class="card-title">ğŸ’¡ Why Dual Gateway?</h3>
                    <div class="card-content">
                        <p>
                            Separate broker gateways for stocks and options enable parallel processing
                            without session conflicts. Each gateway maintains independent market data
                            subscriptions and order routing, allowing simultaneous operations.
                        </p>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">ğŸ’¡ Why Ephemeral Containers?</h3>
                    <div class="card-content">
                        <p>
                            Compute containers run with <code>--rm</code> flag 
                            and are destroyed after each pipeline run. This ensures clean state, prevents 
                            resource leaks, and allows consistent execution environment.
                        </p>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">ğŸ’¡ Why Self-hosted Runner?</h3>
                    <div class="card-content">
                        <p>
                            GitHub-hosted runners cannot access the private network where broker 
                            connectivity is established. Self-hosted runner on the VPS enables 
                            direct Docker control and local network access.
                        </p>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">ğŸ’¡ Why OCA Orders for Options?</h3>
                    <div class="card-content">
                        <p>
                            One-Cancels-All (OCA) order groups ensure that when a take-profit 
                            or stop-loss is triggered, the other is automatically cancelled. 
                            This prevents double execution and simplifies position management.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Integration -->
        <section class="section">
            <h2 class="section-title">Integration: Live Scanner Frontend</h2>
            <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">
                This infrastructure serves as the backend data pipeline for the 
                <a href="../index.html" style="color: var(--accent-blue);">Live Market Scanner</a> 
                web application. The ML signals generated here are consumed by the cloud-hosted 
                dashboard for real-time visualization.
            </p>

            <div class="architecture-diagram">
<pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   THIS PROJECT              â”‚         â”‚   LIVE SCANNER (Railway)    â”‚
â”‚   (Self-hosted VPS)         â”‚         â”‚   (Cloud PaaS)              â”‚
â”‚                             â”‚         â”‚                             â”‚
â”‚   â€¢ Dual broker gateways    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   â€¢ Web dashboard           â”‚
â”‚   â€¢ Stock ML scanning       â”‚  Data   â”‚   â€¢ Real-time display       â”‚
â”‚   â€¢ Options ML scanning     â”‚  Sync   â”‚   â€¢ Market breadth          â”‚
â”‚   â€¢ Paper trading           â”‚         â”‚   â€¢ Telegram alerts         â”‚
â”‚   â€¢ Monitoring stack        â”‚         â”‚   â€¢ User interface          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         BACKEND                                  FRONTEND
</pre>
            </div>
        </section>

        <footer class="footer">
            <p>Built with â¤ï¸ by <a href="../index.html">Marcin Bury</a></p>
            <p style="margin-top: 0.5rem;">
                <a href="https://github.com/burdzik2033">GitHub</a> â€¢ 
                <a href="https://www.linkedin.com/in/marcinbury/">LinkedIn</a>
            </p>
        </footer>
    </div>
</body>
</html>
